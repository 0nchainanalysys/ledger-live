// @flow

import React from "react";
import {
  Defs,
  Rect,
  LinearGradient,
  Stop,
  G,
  Path,
  Circle,
  Mask,
  Use,
} from "react-native-svg";

export const LeftHint = ({ connected = false }: { connected: boolean }) => (
  <G transform={`translate(${connected ? 120 : 20})`}>
    <Circle
      cx="5"
      cy="66"
      r="5.265"
      fill="#4B84FF"
      fillOpacity=".2"
      stroke="#4B84FF"
      strokeOpacity=".6"
      strokeWidth=".531"
    />
    <Circle
      cx="5"
      cy="66"
      r="2"
      fill="#4B84FF"
      stroke="#4B84FF"
      strokeWidth=".8"
    />
    <Path fill="url(#hints)" fillRule="nonzero" d="M5.5 64h-1V0h1z" />
  </G>
);

export const RightHint = ({ connected = false }: { connected: boolean }) => (
  <G transform={`translate(${connected ? 230 : 130})`}>
    <Circle
      cx="5"
      cy="66"
      r="5.265"
      fill="#4B84FF"
      fillOpacity=".2"
      stroke="#4B84FF"
      strokeOpacity=".6"
      strokeWidth=".531"
    />
    <Circle
      cx="5"
      cy="66"
      r="2"
      fill="#4B84FF"
      stroke="#4B84FF"
      strokeWidth=".8"
    />
    <Path fill="url(#hints)" fillRule="nonzero" d="M5.5 64h-1V0h1z" />
  </G>
);

export const Hints = ({
  action,
  color,
  connected = false,
}: {
  action: "both" | "left" | "right",
  color: string,
  connected: boolean,
}) => (
  <>
    <Defs>
      <LinearGradient id="hints" x1="50%" x2="50%" y1="0%" y2="100%">
        <Stop offset="0%" stopColor={color} stopOpacity="0" />
        <Stop offset="100%" stopColor={color} />
      </LinearGradient>
    </Defs>
    {action === "both" ? (
      <>
        <LeftHint connected={connected} />
        <RightHint connected={connected} />
      </>
    ) : action === "left" ? (
      <LeftHint connected={connected} />
    ) : action === "right" ? (
      <RightHint connected={connected} />
    ) : null}
  </>
);

export const Usb = () => (
  <>
    <Defs>
      <LinearGradient id="usb" x1="50%" x2="50%" y1="98.633%" y2="0%">
        <Stop offset="0%" stopColor="#FFF" />
        <Stop offset="100%" stopColor="#142533" />
      </LinearGradient>
    </Defs>
    <G strokeWidth="2" transform="translate(0, 45)">
      <Path
        stroke="url(#usb)"
        d="M10 53h.778L10 52.222V52l-.111.111L9.778 52v.222L9 53h.778v48H9l.778.778V102l.11-.111L10 102v-.222l.778-.778H10V53zm6.222 0H17l-.778-.778V52l-.11.111L16 52v.222l-.778.778H16v48h-.778l.778.778V102l.111-.111.111.111v-.222L17 101h-.778V53z"
        transform="matrix(0 -1 -1 0 102 34)"
      />
      <Path
        stroke="#142533"
        d="M63 26H49.2a.2.2 0 0 1-.2-.2v-9.6c0-.11.09-.2.2-.2H63v10zM101 31.6a1.4 1.4 0 0 1-1.4 1.4H69.2a6.2 6.2 0 0 1-6.2-6.2V15.2A6.2 6.2 0 0 1 69.2 9h30.4a1.4 1.4 0 0 1 1.4 1.4v21.2z"
      />
    </G>
  </>
);

export const EmptyScreen = ({
  color,
  children = null,
  connected = false,
}: {
  color: string,
  children?: Rect.Node,
  connected: boolean,
}) => (
  <G transform={`translate(${connected ? 142 : 42} 51)`}>
    <Rect
      width="65"
      height="29"
      x=".5"
      y=".5"
      fill="#FFF"
      fillOpacity=".8"
      stroke={color}
      strokeOpacity=".2"
      rx="2"
    />
    {children}
  </G>
);

export const ValidationScreen = ({
  color,
  connected = false,
}: {
  color: string,
  connected: boolean,
}) => (
  <>
    <Defs>
      <Path
        id="validate"
        d="M13.62 2.608l-8.22 8.22-3.02-3.02a.375.375 0 0 0-.53 0l-.884.884a.375.375 0 0 0 0 .53l4.169 4.17a.375.375 0 0 0 .53 0l9.37-9.37a.375.375 0 0 0 0-.53l-.884-.884a.375.375 0 0 0-.53 0z"
      />
    </Defs>
    <EmptyScreen color={color} connected={connected}>
      <G transform="translate(25 7)">
        <Mask id="d" fill="#fff">
          <Use xlinkHref="#validate" />
        </Mask>
        <Use fill="#142533" xlinkHref="#c" />
        <G fill="#66BE54" mask="url(#d)">
          <Path d="M0 0h16v16H0z" />
        </G>
      </G>
    </EmptyScreen>
  </>
);

export const PinScreen = ({
  color,
  connected = false,
}: {
  color: string,
  connected: boolean,
}) => (
  <EmptyScreen color={color} connected={connected}>
    <G transform="translate(13 11)">
      <Rect width="40" height="8" fill={color} fillRule="nonzero" rx=".8" />
      <Path
        fill="#FFF"
        d="M5.7 4.408c0 .03-.027.054-.059.054H5.05a.06.06 0 0 0-.056.035.053.053 0 0 0 .013.061l.417.386c.012.01.019.025.019.04s-.007.029-.019.04l-.239.222a.067.067 0 0 1-.085 0l-.417-.386a.064.064 0 0 0-.066-.012.056.056 0 0 0-.037.051v.546c0 .031-.027.056-.061.056h-.338c-.034 0-.061-.025-.061-.056v-.546a.056.056 0 0 0-.038-.05.064.064 0 0 0-.065.011l-.418.386a.067.067 0 0 1-.085 0l-.239-.223a.053.053 0 0 1-.018-.04c0-.014.007-.028.018-.039l.418-.386a.053.053 0 0 0 .012-.06.06.06 0 0 0-.055-.035h-.59a.061.061 0 0 1-.042-.016A.052.052 0 0 1 3 4.408v-.315c0-.015.006-.029.018-.039a.061.061 0 0 1 .043-.015h.59a.06.06 0 0 0 .054-.035.053.053 0 0 0-.012-.06l-.418-.387a.053.053 0 0 1-.018-.04c0-.014.007-.029.018-.039l.237-.223a.067.067 0 0 1 .085 0l.418.386c.017.016.043.02.065.012a.056.056 0 0 0 .038-.051v-.546c0-.03.027-.056.06-.056h.347c.034 0 .06.025.06.056v.546c.001.022.016.043.038.051a.064.064 0 0 0 .066-.012l.417-.386a.067.067 0 0 1 .085 0l.24.223c.011.01.018.025.018.04 0 .014-.007.029-.019.039l-.417.386a.053.053 0 0 0-.013.06.06.06 0 0 0 .056.036h.591c.033 0 .059.024.059.054l-.006.315zm4.456 0c0 .03-.028.055-.06.054h-.59a.06.06 0 0 0-.055.035.053.053 0 0 0 .013.061l.417.386a.055.055 0 0 1 0 .08l-.241.222a.067.067 0 0 1-.085 0l-.417-.386a.064.064 0 0 0-.066-.012.056.056 0 0 0-.038.051v.546c0 .03-.026.055-.058.056h-.34c-.034 0-.06-.026-.06-.056v-.546a.056.056 0 0 0-.037-.05.064.064 0 0 0-.066.011l-.417.386a.067.067 0 0 1-.085 0l-.241-.223a.055.055 0 0 1 0-.079l.417-.386a.053.053 0 0 0 .013-.06.06.06 0 0 0-.055-.035h-.59c-.033 0-.06-.025-.06-.055v-.315c0-.03.027-.054.06-.054h.59a.06.06 0 0 0 .055-.035.053.053 0 0 0-.013-.06l-.417-.387a.055.055 0 0 1 0-.079l.241-.223a.067.067 0 0 1 .085 0l.417.386c.018.016.043.02.066.012a.056.056 0 0 0 .038-.051v-.546c0-.03.025-.055.058-.056h.34c.033.001.06.026.06.056v.546c0 .022.014.043.037.051a.064.064 0 0 0 .066-.012l.417-.386a.067.067 0 0 1 .085 0l.24.223a.055.055 0 0 1 0 .079l-.416.386a.053.053 0 0 0-.013.06.06.06 0 0 0 .055.036h.59c.032 0 .06.024.06.054v.315zm4.449 0a.052.052 0 0 1-.018.04.061.061 0 0 1-.043.014h-.59a.06.06 0 0 0-.055.035.053.053 0 0 0 .013.061l.417.386a.053.053 0 0 1 0 .079l-.237.223a.067.067 0 0 1-.085 0l-.417-.386a.064.064 0 0 0-.066-.012.056.056 0 0 0-.037.051v.546c0 .031-.027.056-.061.056h-.346c-.034 0-.061-.025-.061-.056v-.546a.056.056 0 0 0-.038-.05.064.064 0 0 0-.065.011l-.418.386a.067.067 0 0 1-.085 0l-.239-.223a.053.053 0 0 1-.018-.04c0-.014.007-.028.018-.039l.418-.386a.053.053 0 0 0 .012-.06.06.06 0 0 0-.055-.035h-.585c-.033 0-.059-.025-.059-.055v-.315c0-.03.026-.054.059-.054h.591a.06.06 0 0 0 .055-.035.053.053 0 0 0-.012-.06l-.418-.387a.053.053 0 0 1-.018-.04c0-.014.007-.029.018-.039l.24-.223a.067.067 0 0 1 .084 0l.418.386c.017.016.043.02.065.012a.056.056 0 0 0 .038-.051v-.546c0-.03.027-.056.06-.056h.339c.033 0 .06.025.06.056v.546c.001.022.016.043.038.051a.064.064 0 0 0 .066-.012l.417-.386a.067.067 0 0 1 .085 0l.24.223c.01.01.017.025.017.04 0 .014-.006.029-.018.039l-.417.386a.053.053 0 0 0-.013.06.06.06 0 0 0 .056.036h.589c.016 0 .031.005.043.015.011.01.018.024.018.04v.314zm4.448 0c0 .03-.026.054-.059.054h-.591a.06.06 0 0 0-.055.035.053.053 0 0 0 .012.061l.418.386c.011.01.018.025.018.04s-.007.029-.018.04l-.24.222a.067.067 0 0 1-.084 0l-.418-.386a.064.064 0 0 0-.065-.012.056.056 0 0 0-.038.051v.546c0 .031-.027.056-.06.056h-.339c-.033 0-.06-.025-.06-.056v-.546a.056.056 0 0 0-.038-.05.064.064 0 0 0-.066.011l-.417.386a.067.067 0 0 1-.085 0l-.24-.223a.053.053 0 0 1-.017-.04c0-.014.006-.028.018-.039l.417-.386a.053.053 0 0 0 .013-.06.06.06 0 0 0-.055-.035h-.59a.061.061 0 0 1-.043-.016.052.052 0 0 1-.018-.039v-.315c0-.015.007-.029.018-.039a.061.061 0 0 1 .043-.015h.59a.06.06 0 0 0 .055-.035.053.053 0 0 0-.013-.06l-.417-.387a.053.053 0 0 1-.018-.04c0-.014.006-.029.018-.039l.237-.223a.067.067 0 0 1 .085 0l.417.386c.017.016.043.02.066.012a.056.056 0 0 0 .037-.051v-.546c0-.03.028-.056.061-.056h.346c.034 0 .061.025.061.056v.546c0 .022.015.043.038.051a.064.064 0 0 0 .065-.012l.418-.386a.067.067 0 0 1 .085 0l.239.223c.011.01.018.025.018.04 0 .014-.007.029-.018.039l-.417.386a.053.053 0 0 0-.013.06.06.06 0 0 0 .055.036H19c.033 0 .06.024.06.054l-.007.315zm4.457 0c-.001.03-.028.055-.061.054h-.59a.06.06 0 0 0-.055.035.053.053 0 0 0 .013.061l.417.386a.055.055 0 0 1 0 .08l-.24.222a.067.067 0 0 1-.086 0l-.417-.386a.064.064 0 0 0-.066-.012.056.056 0 0 0-.037.051v.546c0 .03-.026.055-.06.056h-.34c-.032 0-.058-.026-.058-.056v-.546a.056.056 0 0 0-.038-.05.064.064 0 0 0-.065.011l-.418.386a.067.067 0 0 1-.085 0l-.24-.223a.055.055 0 0 1 0-.079l.417-.386a.053.053 0 0 0 .012-.06.06.06 0 0 0-.055-.035h-.59c-.032 0-.059-.025-.06-.055v-.315c.001-.03.028-.054.06-.054h.59a.06.06 0 0 0 .055-.035.053.053 0 0 0-.012-.06l-.418-.387a.055.055 0 0 1 0-.079l.241-.223a.067.067 0 0 1 .085 0l.418.386c.017.016.043.02.065.012a.056.056 0 0 0 .038-.051v-.546c0-.03.026-.055.059-.056h.34c.033.001.059.026.059.056v.546c0 .022.015.043.037.051a.064.064 0 0 0 .066-.012l.417-.386a.067.067 0 0 1 .085 0l.241.223a.055.055 0 0 1 0 .079l-.417.386a.053.053 0 0 0-.013.06.06.06 0 0 0 .056.036h.589c.033 0 .06.024.06.054v.315zm4.448 0a.052.052 0 0 1-.018.04.061.061 0 0 1-.043.014h-.589a.06.06 0 0 0-.055.035.053.053 0 0 0 .012.061l.418.386c.011.01.018.025.018.04s-.007.029-.018.04l-.237.222a.067.067 0 0 1-.085 0l-.418-.386a.064.064 0 0 0-.065-.012.056.056 0 0 0-.038.051v.546c0 .031-.027.056-.06.056h-.347c-.034 0-.06-.025-.06-.056v-.546a.056.056 0 0 0-.038-.05.064.064 0 0 0-.066.011l-.417.386a.067.067 0 0 1-.085 0l-.24-.223a.053.053 0 0 1-.018-.04c0-.014.007-.028.019-.039l.417-.386a.053.053 0 0 0 .013-.06.06.06 0 0 0-.056-.035h-.585c-.032 0-.059-.025-.059-.055v-.315c0-.03.027-.054.06-.054h.59a.06.06 0 0 0 .056-.035.053.053 0 0 0-.013-.06l-.417-.387a.053.053 0 0 1-.018-.04c0-.014.006-.029.018-.039l.239-.223a.067.067 0 0 1 .085 0l.417.386c.017.016.043.02.066.012a.056.056 0 0 0 .037-.051v-.546c0-.03.028-.056.061-.056h.338c.034 0 .061.025.061.056v.546c0 .022.015.043.038.051a.064.064 0 0 0 .065-.012l.418-.386a.067.067 0 0 1 .085 0l.239.223c.011.01.018.025.018.04 0 .014-.007.029-.018.039l-.418.386a.053.053 0 0 0-.012.06.06.06 0 0 0 .055.036h.59c.015 0 .03.005.042.015.012.01.018.024.018.04v.314zm4.449 0a.052.052 0 0 1-.018.04.061.061 0 0 1-.043.014h-.59a.06.06 0 0 0-.055.035.053.053 0 0 0 .013.061l.417.386a.053.053 0 0 1 0 .079l-.237.223a.067.067 0 0 1-.085 0l-.417-.386a.064.064 0 0 0-.066-.012.056.056 0 0 0-.037.051v.546c0 .031-.028.056-.061.056h-.347c-.033 0-.06-.025-.06-.056v-.546a.056.056 0 0 0-.038-.05.064.064 0 0 0-.066.011l-.417.386a.067.067 0 0 1-.085 0l-.239-.223a.053.053 0 0 1-.018-.04c0-.014.006-.028.018-.039l.417-.386a.053.053 0 0 0 .013-.06.06.06 0 0 0-.055-.035h-.586c-.032 0-.058-.025-.058-.055v-.315c0-.03.026-.054.058-.054h.592a.06.06 0 0 0 .055-.035.053.053 0 0 0-.013-.06l-.417-.387a.053.053 0 0 1-.018-.04c0-.014.007-.029.018-.039l.24-.223a.067.067 0 0 1 .084 0l.417.386c.018.016.044.02.066.012a.056.056 0 0 0 .038-.051v-.546c0-.03.027-.056.06-.056h.339c.033 0 .06.025.06.056v.546c0 .022.016.043.038.051a.064.064 0 0 0 .066-.012l.417-.386a.067.067 0 0 1 .085 0l.24.223c.01.01.017.025.017.04 0 .014-.006.029-.018.039l-.417.386a.053.053 0 0 0-.013.06.06.06 0 0 0 .055.036h.59c.016 0 .031.005.043.015.011.01.018.024.018.04v.314zm4.448 0a.052.052 0 0 1-.018.04.061.061 0 0 1-.043.014h-.59a.06.06 0 0 0-.055.035.053.053 0 0 0 .013.061l.417.386c.012.01.019.025.019.04s-.007.029-.019.04l-.236.222a.067.067 0 0 1-.086 0l-.417-.386a.064.064 0 0 0-.065-.012.056.056 0 0 0-.038.051v.546c0 .031-.027.056-.06.056h-.347c-.034 0-.06-.025-.06-.056v-.546a.056.056 0 0 0-.039-.05.064.064 0 0 0-.065.011l-.417.386a.067.067 0 0 1-.085 0l-.24-.223a.053.053 0 0 1-.018-.04c0-.014.007-.028.019-.039l.417-.386a.053.053 0 0 0 .013-.06.06.06 0 0 0-.056-.035h-.585c-.033 0-.059-.025-.059-.055v-.315c0-.03.026-.054.059-.054h.591a.06.06 0 0 0 .056-.035.053.053 0 0 0-.013-.06l-.417-.387a.053.053 0 0 1-.019-.04c0-.014.007-.029.019-.039l.239-.223a.067.067 0 0 1 .085 0l.417.386c.017.016.043.02.066.012a.056.056 0 0 0 .037-.051v-.546c0-.03.027-.056.06-.056h.34c.033 0 .06.025.06.056v.546c0 .022.015.043.038.051a.064.064 0 0 0 .065-.012l.417-.386a.067.067 0 0 1 .086 0l.238.223c.012.01.019.025.019.04 0 .014-.007.029-.019.039l-.417.386a.053.053 0 0 0-.013.06.06.06 0 0 0 .056.036h.59c.015 0 .03.005.042.015.011.01.018.024.018.04v.314z"
      />
    </G>
  </EmptyScreen>
);

export const HomeScreen = ({
  color,
  connected = false,
}: {
  color: string,
  connected: boolean,
}) => (
  <>
    <Defs>
      <Path
        id="home"
        d="M2.75 6.367v6.966c0 .322.261.584.583.584h9.334a.583.583 0 0 0 .583-.584V6.367L8 2.283 2.75 6.367zm-1.21-.959l6-4.667a.75.75 0 0 1 .92 0l6 4.667a.75.75 0 0 1 .29.592v7.333c0 1.15-.933 2.084-2.083 2.084H3.333a2.083 2.083 0 0 1-2.083-2.084V6a.75.75 0 0 1 .29-.592zM6.75 8.75v5.917a.75.75 0 0 1-1.5 0V8A.75.75 0 0 1 6 7.25h4a.75.75 0 0 1 .75.75v6.667a.75.75 0 0 1-1.5 0V8.75h-2.5z"
      />
    </Defs>
    <EmptyScreen color={color} connected={connected}>
      <G transform="translate(25 7)">
        <Mask id="f" fill="#fff">
          <Use xlinkHref="#home" />
        </Mask>
        <G fill={color} mask="url(#f)">
          <Path d="M0 0h16v16H0z" />
        </G>
      </G>
    </EmptyScreen>
  </>
);

export const ErrorScreen = ({
  color,
  rejected = false,
  connected = false,
}: {
  color: string,
  rejected?: boolean,
  connected: boolean,
}) => (
  <>
    <Defs>
      <Path
        id="cross"
        d="M9.372 8l4.506-4.506a.416.416 0 0 0 0-.59l-.783-.782a.416.416 0 0 0-.589 0L8 6.628 3.494 2.122a.416.416 0 0 0-.59 0l-.782.783a.416.416 0 0 0 0 .589L6.628 8l-4.506 4.506a.416.416 0 0 0 0 .59l.783.782a.416.416 0 0 0 .589 0L8 9.372l4.506 4.506a.416.416 0 0 0 .59 0l.782-.783a.416.416 0 0 0 0-.589L9.372 8z"
      />
      <Path
        id="circle"
        d="M16 28c6.627 0 12-5.373 12-12S22.627 4 16 4 4 9.373 4 16s5.373 12 12 12z"
      />
      <Path
        id="exclamation"
        d="M8 2a1 1 0 0 1 1 1v6a1 1 0 1 1-2 0V3a1 1 0 0 1 1-1zm0 12a1.2 1.2 0 1 1 0-2.4A1.2 1.2 0 0 1 8 14z"
      />
      <Path
        id="smallcross"
        d="M7.029 6l3.38-3.38a.312.312 0 0 0 0-.441l-.588-.587a.312.312 0 0 0-.441 0L6 4.972l-3.38-3.38a.312.312 0 0 0-.441 0l-.587.587a.312.312 0 0 0 0 .441L4.972 6l-3.38 3.38a.312.312 0 0 0 0 .441l.587.587c.122.123.32.123.441 0L6 7.028l3.38 3.38c.122.123.32.123.441 0l.587-.587a.312.312 0 0 0 0-.441L7.028 6z"
      />
    </Defs>
    <EmptyScreen color={color} connected={connected}>
      {rejected ? (
        <G transform="translate(25 7)">
          <Mask id="cross-mask" fill="#fff">
            <Use xlinkHref="#cross" />
          </Mask>
          <G fill={color} mask="url(#cross-mask)">
            <Path d="M0 0h16v16H0z" />
          </G>
        </G>
      ) : null}
    </EmptyScreen>
    <G transform={`translate(${connected ? 354 : 254} 32)`}>
      <Path
        fill="#FFF"
        fillRule="nonzero"
        d="M16 32C7.163 32 0 24.837 0 16S7.163 0 16 0s16 7.163 16 16-7.163 16-16 16z"
      />
      <Mask id="circle-mask" fill="#fff">
        <Use xlinkHref="#circle" />
      </Mask>
      <Use fill="#FFF" fillRule="nonzero" xlinkHref="#circle" />
      <G fill={color} mask="url(#circle-mask)">
        <Path d="M0 0h32v32H0z" />
      </G>
    </G>
    {rejected ? (
      <G transform={`translate(${connected ? 364 : 264} 42)`}>
        <Mask id="smallcross-mask" fill="#fff">
          <Use xlinkHref="#smallcross" />
        </Mask>
        <G fill="#FFF" mask="url(#smallcross-mask)">
          <Path d="M0 0h11.5v11.5H0z" />
        </G>
      </G>
    ) : (
      <G transform={`translate(${connected ? 362 : 262} 40)`}>
        <Mask id="exclamation-mask" fill="#fff">
          <Use xlinkHref="#exclamation" />
        </Mask>
        <Use fill="#FFF" xlinkHref="#exclamation" />
        <G fill="#FFF" mask="url(#exclamation-mask)">
          <Path d="M0 0h16v16H0z" />
        </G>
      </G>
    )}
  </>
);
